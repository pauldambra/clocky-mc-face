!function(e){function n(n){for(var r,s,i=n[0],u=n[1],c=n[2],d=0,m=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&m.push(o[s][0]),o[s]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(l&&l(n);m.length;)m.shift()();return a.push.apply(a,c||[]),t()}function t(){for(var e,n=0;n<a.length;n++){for(var t=a[n],r=!0,i=1;i<t.length;i++){var u=t[i];0!==o[u]&&(r=!1)}r&&(a.splice(n--,1),e=s(s.s=t[0]))}return e}var r={},o={0:0},a=[];function s(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.m=e,s.c=r,s.d=function(e,n,t){s.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,n){if(1&n&&(e=s(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(s.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)s.d(t,r,function(n){return e[n]}.bind(null,r));return t},s.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(n,"a",n),n},s.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},s.p="";var i=window.webpackJsonp=window.webpackJsonp||[],u=i.push.bind(i);i.push=n,i=i.slice();for(var c=0;c<i.length;c++)n(i[c]);var l=u;a.push(["tjUo",1]),t()}({"Wb3+":function(e,n,t){"use strict";t.r(n),n.default=t.p+"8a38237adaa8dcf738832da460e9a972.svg"},kMZY:function(e,n,t){var r=t("LboF"),o=t("rXkF");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1};r(o,a);e.exports=o.locals||{}},rXkF:function(e,n,t){var r=t("JPst"),o=t("HeW1"),a=t("Wb3+");n=r(!1);var s=o(a);n.push([e.i,".clock {\n    border-radius: 50%;\n    background: #fff url("+s+') no-repeat center;\n    background-size: 88%;\n    height: 0;\n    padding-bottom: 31%;\n    position: relative;\n    width: 31%;\n    margin: auto;\n}\n\n.clock.simple:after {\n    background: #000;\n    border-radius: 50%;\n    content: "";\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    width: 5%;\n    height: 5%;\n    z-index: 10;\n}\n\n#hours-hand {\n    background: #000;\n    height: 20%;\n    left: 48.75%;\n    position: absolute;\n    top: 30%;\n    transform-origin: 50% 100%;\n    width: 2.5%;\n}\n\n#minutes-hand {\n    background: #000;\n    height: 40%;\n    left: 49%;\n    position: absolute;\n    top: 10%;\n    transform-origin: 50% 100%;\n    width: 2%;\n}\n\n#seconds-hand {\n    background: #000;\n    height: 45%;\n    left: 49.5%;\n    position: absolute;\n    top: 14%;\n    transform-origin: 50% 80%;\n    width: 1%;\n    z-index: 8;\n}\n\n\n',""]),e.exports=n},tjUo:function(e,n,t){"use strict";t.r(n);var r=t("q1tI"),o=t.n(r),a=t("i8i4"),s=function(e){return Math.floor(Math.random()*e)+1},i=s(12),u=s(59),c=s(59),l=function(){return{hours:i,minutes:u,seconds:c}};console.log({time:l()});t("kMZY");function d(e){return document.querySelector(e).getAttribute("data-rotation")}var m,f,h=function(e){return"rotateZ(".concat(e,"deg)")},p=function(e,n){return document.getElementById(e).style.transform=h(n)},g=function(e){var n=e.hours,t=e.minutes,r=e.seconds,a=e.showRow,s=function(e){var n=e.hours,t=e.minutes;return{hours:30*n+t/2,minutes:6*t,seconds:6*e.seconds}}({hours:n,minutes:t,seconds:r});return o.a.useLayoutEffect((function(){var e=d("#hours"),o=d("#minutes"),a=d("#seconds");console.log("checking if should force render to update dom on hydration"),e!==s.hours&&o!==s.minutes&&a!==s.seconds&&(console.log({hours:n,minutes:t,seconds:r,hands:s},"forcing render"),p("hours-hand",s.hours),p("minutes-hand",s.minutes),p("seconds-hand",s.seconds))}),[]),o.a.createElement("div",{id:"question-row",className:"row",style:{display:a}},o.a.createElement("div",{className:"clock"},o.a.createElement("div",{className:"hours-container"},o.a.createElement("div",{id:"hours-hand","data-rotation":s.hours,style:{transform:h(s.hours)}})),o.a.createElement("div",{className:"minutes-container"},o.a.createElement("div",{id:"minutes-hand","data-rotation":s.minutes,style:{transform:h(s.minutes)}})),o.a.createElement("div",{className:"seconds-container"},o.a.createElement("div",{id:"seconds-hand","data-rotation":s.seconds,style:{transform:h(s.seconds)}}))))},y=function(e){return parseInt(document.querySelector(e).value,10)},v=function(e){var n=e.answer,t=e.answerIsCorrect,r=e.handleChange,a=e.showRow;o.a.useLayoutEffect((function(){document.querySelector("#answer-row input#hours").focus()}),[]);var s=function(e){var n=y("#hours"),t=y("#minutes"),o=y("#seconds");console.log({h:n,m:t,s:o},"handling?"),r({hours:n,minutes:t,seconds:o})};return o.a.createElement("div",{id:"answer-row",className:"row",style:{display:a}},"The time is:",o.a.createElement("input",{type:"number",max:"12",min:"0",step:"1",id:"hours",value:n.hours,onChange:s})," : ",o.a.createElement("input",{type:"number",max:"59",min:"0",step:"1",id:"minutes",value:n.minutes,onChange:s})," : ",o.a.createElement("input",{type:"number",max:"59",min:"0",step:"1",id:"seconds",value:n.seconds,onChange:s}),o.a.createElement("div",{className:"mark-holder"},o.a.createElement("span",{className:"cross",style:{display:null==t||t?"none":""}},"✘")))},b="https://api.thecatapi.com/api/images/get?format=src&type=gif",w=function(){f=new Promise((function(e,n){b+="&cacheBuster="+(new Date).getTime();var t=document.createElement("img");t.onload=function(){console.log(b,"preloaded!"),m=t,e()},t.onerror=function(e){n(e)},t.src=b}))},E=function(e){var n=e.question;return o.a.useLayoutEffect((function(){var e;e=document.getElementById("cat-gif"),f||w(),f.then((function(){e.innerHTML="",e.appendChild(m)})).then((function(){f=null,w()}))}),[n]),o.a.createElement("div",{id:"cat-gif",className:"done-row"},"Loading...")},k=function(e){var n=e.question,t=e.shouldDisplay,r=e.resetPage;return o.a.createElement("div",{id:"done",className:"row",style:{display:t}},o.a.createElement("div",{className:"result done-row"},"Yes! The time was ",n.hours,":",n.minutes,":",n.seconds),o.a.createElement("div",{className:"done-row"},o.a.createElement("button",{onClick:r},"Awesome, Again?")),o.a.createElement(E,{question:n}))};function S(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],r=!0,o=!1,a=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(t.push(s.value),!n||t.length!==n);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return t}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return j(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return j(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var O=function(){var e=S(o.a.useState({hours:"",minutes:"",seconds:""}),2),n=e[0],t=e[1],r=S(o.a.useState(null),2),a=r[0],d=r[1],m=S(o.a.useState(l()),2),f=m[0],h=m[1],p=function(){return null!=a&&a?"none":""};return o.a.createElement("div",null,o.a.createElement(g,{hours:f.hours,minutes:f.minutes,seconds:f.seconds,showRow:p()}),o.a.createElement(v,{answer:n,answerIsCorrect:a,showRow:p(),handleChange:function(e){var n,r;t(e),d((r=(n=e).hours===i&&n.minutes===u&&n.seconds===c,console.log({checking:n,correct:l(),allMatch:r}),r))}}),o.a.createElement(k,{question:f,shouldDisplay:null!=a&&a?"":"none",resetPage:function(){var e=(i=s(12),u=s(59),c=s(59),l());h(e),t({hours:"",minutes:"",seconds:""}),d(null)}}))};Object(a.hydrate)(o.a.createElement(O,null),document.getElementById("root"))}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0YXRpb25fY2xvY2suc3ZnIiwid2VicGFjazovLy8uL3NyYy9jbG9jay5jc3M/MzAyNiIsIndlYnBhY2s6Ly8vLi9zcmMvY2xvY2suY3NzIiwid2VicGFjazovLy8uL3NyYy9xdWVzdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvUXVlc3Rpb25Sb3cuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NhdC1naWZzLmpzIiwid2VicGFjazovLy8uL3NyYy9mcm9tVGltZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvRW50ZXJBbnN3ZXJSb3cuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1JhbmRvbUNhdEdpZi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29ycmVjdEFuc3dlclJvdy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvQ2xvY2t5TWNGYWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJ3ZWJwYWNrSnNvbnBDYWxsYmFjayIsImRhdGEiLCJtb2R1bGVJZCIsImNodW5rSWQiLCJjaHVua0lkcyIsIm1vcmVNb2R1bGVzIiwiZXhlY3V0ZU1vZHVsZXMiLCJpIiwicmVzb2x2ZXMiLCJsZW5ndGgiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpbnN0YWxsZWRDaHVua3MiLCJwdXNoIiwibW9kdWxlcyIsInBhcmVudEpzb25wRnVuY3Rpb24iLCJzaGlmdCIsImRlZmVycmVkTW9kdWxlcyIsImFwcGx5IiwiY2hlY2tEZWZlcnJlZE1vZHVsZXMiLCJyZXN1bHQiLCJkZWZlcnJlZE1vZHVsZSIsImZ1bGZpbGxlZCIsImoiLCJkZXBJZCIsInNwbGljZSIsIl9fd2VicGFja19yZXF1aXJlX18iLCJzIiwiaW5zdGFsbGVkTW9kdWxlcyIsIjAiLCJleHBvcnRzIiwibW9kdWxlIiwibCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwIiwianNvbnBBcnJheSIsIndpbmRvdyIsIm9sZEpzb25wRnVuY3Rpb24iLCJzbGljZSIsImFwaSIsImNvbnRlbnQiLCJkZWZhdWx0Iiwib3B0aW9ucyIsImxvY2FscyIsIl9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyIsIl9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18iLCJfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMF9fXyIsIl9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzBfX18iLCJuZXh0UmFuZG9tIiwibWF4IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiaG91cnMiLCJtaW51dGVzIiwic2Vjb25kcyIsInJlYWQiLCJjb25zb2xlIiwibG9nIiwidGltZSIsImdldFJvdGF0aW9uIiwic2VsZWN0b3JzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZ2V0QXR0cmlidXRlIiwibmV4dEltYWdlIiwicHJlbG9hZCIsImNzc1JvdGF0aW9uIiwic2V0Um90YXRpb24iLCJlbGVtZW50SWQiLCJyb3RhdGlvbiIsImdldEVsZW1lbnRCeUlkIiwic3R5bGUiLCJ0cmFuc2Zvcm0iLCJRdWVzdGlvblJvdyIsInNob3dSb3ciLCJoYW5kcyIsInRvSGFuZFBvc2l0aW9uIiwiUmVhY3QiLCJ1c2VMYXlvdXRFZmZlY3QiLCJob3Vyc1JvdGF0aW9uIiwibWludXRlc1JvdGF0aW9uIiwic2Vjb25kc1JvdGF0aW9uIiwiaWQiLCJjbGFzc05hbWUiLCJkaXNwbGF5IiwiZGF0YS1yb3RhdGlvbiIsIm51bWJlckZyb21JbnB1dCIsInNlbGVjdG9yIiwicGFyc2VJbnQiLCJBbnN3ZXJJbnB1dCIsImFuc3dlciIsImFuc3dlcklzQ29ycmVjdCIsImhhbmRsZUNoYW5nZSIsImZvY3VzIiwib25DaGFuZ2UiLCJlIiwiaCIsInR5cGUiLCJtaW4iLCJzdGVwIiwiY2F0R2lmVXJsIiwicHJlbG9hZE5leHRDYXRHaWYiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIkRhdGUiLCJnZXRUaW1lIiwiaW1hZ2UiLCJjcmVhdGVFbGVtZW50Iiwib25sb2FkIiwib25lcnJvciIsInNyYyIsIlJhbmRvbUNhdEdpZiIsInF1ZXN0aW9uIiwianNFbGVtZW50IiwidGhlbiIsImlubmVySFRNTCIsImFwcGVuZENoaWxkIiwiQ29ycmVjdEFuc3dlciIsInNob3VsZERpc3BsYXkiLCJyZXNldFBhZ2UiLCJvbkNsaWNrIiwiQ2xvY2t5TWNGYWNlIiwidXNlU3RhdGUiLCJzZXRBbnN3ZXIiLCJzZXRBbnN3ZXJJc0NvcnJlY3QiLCJxIiwic2V0UXVlc3Rpb24iLCJoaWRlV2hlbkNvcnJlY3QiLCJhIiwiYWxsTWF0Y2giLCJjaGVja2luZyIsImNvcnJlY3QiLCJuZXdRdWVzdGlvbiIsImh5ZHJhdGUiXSwibWFwcGluZ3MiOiJhQUNFLFNBQVNBLEVBQXFCQyxHQVE3QixJQVBBLElBTUlDLEVBQVVDLEVBTlZDLEVBQVdILEVBQUssR0FDaEJJLEVBQWNKLEVBQUssR0FDbkJLLEVBQWlCTCxFQUFLLEdBSUhNLEVBQUksRUFBR0MsRUFBVyxHQUNwQ0QsRUFBSUgsRUFBU0ssT0FBUUYsSUFDekJKLEVBQVVDLEVBQVNHLEdBQ2hCRyxPQUFPQyxVQUFVQyxlQUFlQyxLQUFLQyxFQUFpQlgsSUFBWVcsRUFBZ0JYLElBQ3BGSyxFQUFTTyxLQUFLRCxFQUFnQlgsR0FBUyxJQUV4Q1csRUFBZ0JYLEdBQVcsRUFFNUIsSUFBSUQsS0FBWUcsRUFDWkssT0FBT0MsVUFBVUMsZUFBZUMsS0FBS1IsRUFBYUgsS0FDcERjLEVBQVFkLEdBQVlHLEVBQVlILElBS2xDLElBRkdlLEdBQXFCQSxFQUFvQmhCLEdBRXRDTyxFQUFTQyxRQUNkRCxFQUFTVSxPQUFUVixHQU9ELE9B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QUhlLEtBYW5CQyxFQUFrQixrQkFDSCxNQUFuQnJDLEdBQTRCQSxFQUF1QixPQUFMLElBU2hELE9BQ0UsNkJBQ0Usa0JBQUMsRUFBRCxDQUNFdkMsTUFBTzBFLEVBQUUxRSxNQUNUQyxRQUFTeUUsRUFBRXpFLFFBQ1hDLFFBQVN3RSxFQUFFeEUsUUFDWG9CLFFBQVNzRCxNQUVYLGtCQUFDLEVBQUQsQ0FDRXRDLE9BQVFBLEVBQ1JDLGdCQUFpQkEsRUFDakJqQixRQUFTc0QsSUFDVHBDLGFBOUJlLFNBQUNGLEdQRUcsSUFBQ3VDLEVBQ3BCQyxFT0ZKTixFQUFVbEMsR0FDVm1DLEdQQ0lLLEdBRG9CRCxFT0FnQnZDLEdQQ3ZCdEMsUUFBVUEsR0FBUzZFLEVBQUU1RSxVQUFZQSxHQUFXNEUsRUFBRTNFLFVBQVlBLEVBQzdFRSxRQUFRQyxJQUFJLENBQ1YwRSxTQUFVRixFQUNWRyxRQUFTN0UsSUFDVDJFLGFBRUtBLE9PdUJILGtCQUFDLEVBQUQsQ0FDRWpCLFNBQVVhLEVBQ1ZQLGNBNUJlLE1BQW5CNUIsR0FBNEJBLEVBQTJCLEdBQVQsT0E2QjFDNkIsVUF4QlksV0FDaEIsSUFBTWEsR1BoQlJqRixFQUFRTCxFQUFXLElBQ25CTSxFQUFVTixFQUFXLElBQ3JCTyxFQUFVUCxFQUFXLElBQ2RRLEtPY0x3RSxFQUFZTSxHQUNaVCxFQUFVLENBQUV4RSxNQUFPLEdBQUlDLFFBQVMsR0FBSUMsUUFBUyxLQUM3Q3VFLEVBQW1CLFdDdEJ2QlMsa0JBQVEsa0JBQUMsRUFBRCxNQUFrQnpFLFNBQVNTLGVBQWUiLCJmaWxlIjoibWFpbi5mNjIzMDEyZDA3YWRiMjMxODkyMS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIGluc3RhbGwgYSBKU09OUCBjYWxsYmFjayBmb3IgY2h1bmsgbG9hZGluZ1xuIFx0ZnVuY3Rpb24gd2VicGFja0pzb25wQ2FsbGJhY2soZGF0YSkge1xuIFx0XHR2YXIgY2h1bmtJZHMgPSBkYXRhWzBdO1xuIFx0XHR2YXIgbW9yZU1vZHVsZXMgPSBkYXRhWzFdO1xuIFx0XHR2YXIgZXhlY3V0ZU1vZHVsZXMgPSBkYXRhWzJdO1xuXG4gXHRcdC8vIGFkZCBcIm1vcmVNb2R1bGVzXCIgdG8gdGhlIG1vZHVsZXMgb2JqZWN0LFxuIFx0XHQvLyB0aGVuIGZsYWcgYWxsIFwiY2h1bmtJZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcbiBcdFx0dmFyIG1vZHVsZUlkLCBjaHVua0lkLCBpID0gMCwgcmVzb2x2ZXMgPSBbXTtcbiBcdFx0Zm9yKDtpIDwgY2h1bmtJZHMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkgJiYgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG4gXHRcdFx0XHRyZXNvbHZlcy5wdXNoKGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSk7XG4gXHRcdFx0fVxuIFx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IDA7XG4gXHRcdH1cbiBcdFx0Zm9yKG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcbiBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRpZihwYXJlbnRKc29ucEZ1bmN0aW9uKSBwYXJlbnRKc29ucEZ1bmN0aW9uKGRhdGEpO1xuXG4gXHRcdHdoaWxlKHJlc29sdmVzLmxlbmd0aCkge1xuIFx0XHRcdHJlc29sdmVzLnNoaWZ0KCkoKTtcbiBcdFx0fVxuXG4gXHRcdC8vIGFkZCBlbnRyeSBtb2R1bGVzIGZyb20gbG9hZGVkIGNodW5rIHRvIGRlZmVycmVkIGxpc3RcbiBcdFx0ZGVmZXJyZWRNb2R1bGVzLnB1c2guYXBwbHkoZGVmZXJyZWRNb2R1bGVzLCBleGVjdXRlTW9kdWxlcyB8fCBbXSk7XG5cbiBcdFx0Ly8gcnVuIGRlZmVycmVkIG1vZHVsZXMgd2hlbiBhbGwgY2h1bmtzIHJlYWR5XG4gXHRcdHJldHVybiBjaGVja0RlZmVycmVkTW9kdWxlcygpO1xuIFx0fTtcbiBcdGZ1bmN0aW9uIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCkge1xuIFx0XHR2YXIgcmVzdWx0O1xuIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgZGVmZXJyZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0dmFyIGRlZmVycmVkTW9kdWxlID0gZGVmZXJyZWRNb2R1bGVzW2ldO1xuIFx0XHRcdHZhciBmdWxmaWxsZWQgPSB0cnVlO1xuIFx0XHRcdGZvcih2YXIgaiA9IDE7IGogPCBkZWZlcnJlZE1vZHVsZS5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0dmFyIGRlcElkID0gZGVmZXJyZWRNb2R1bGVbal07XG4gXHRcdFx0XHRpZihpbnN0YWxsZWRDaHVua3NbZGVwSWRdICE9PSAwKSBmdWxmaWxsZWQgPSBmYWxzZTtcbiBcdFx0XHR9XG4gXHRcdFx0aWYoZnVsZmlsbGVkKSB7XG4gXHRcdFx0XHRkZWZlcnJlZE1vZHVsZXMuc3BsaWNlKGktLSwgMSk7XG4gXHRcdFx0XHRyZXN1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IGRlZmVycmVkTW9kdWxlWzBdKTtcbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHRyZXR1cm4gcmVzdWx0O1xuIFx0fVxuXG4gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuIFx0Ly8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4gXHQvLyBQcm9taXNlID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxuIFx0dmFyIGluc3RhbGxlZENodW5rcyA9IHtcbiBcdFx0MDogMFxuIFx0fTtcblxuIFx0dmFyIGRlZmVycmVkTW9kdWxlcyA9IFtdO1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHR2YXIganNvbnBBcnJheSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSB8fCBbXTtcbiBcdHZhciBvbGRKc29ucEZ1bmN0aW9uID0ganNvbnBBcnJheS5wdXNoLmJpbmQoanNvbnBBcnJheSk7XG4gXHRqc29ucEFycmF5LnB1c2ggPSB3ZWJwYWNrSnNvbnBDYWxsYmFjaztcbiBcdGpzb25wQXJyYXkgPSBqc29ucEFycmF5LnNsaWNlKCk7XG4gXHRmb3IodmFyIGkgPSAwOyBpIDwganNvbnBBcnJheS5sZW5ndGg7IGkrKykgd2VicGFja0pzb25wQ2FsbGJhY2soanNvbnBBcnJheVtpXSk7XG4gXHR2YXIgcGFyZW50SnNvbnBGdW5jdGlvbiA9IG9sZEpzb25wRnVuY3Rpb247XG5cblxuIFx0Ly8gYWRkIGVudHJ5IG1vZHVsZSB0byBkZWZlcnJlZCBsaXN0XG4gXHRkZWZlcnJlZE1vZHVsZXMucHVzaChbXCJ0alVvXCIsMV0pO1xuIFx0Ly8gcnVuIGRlZmVycmVkIG1vZHVsZXMgd2hlbiByZWFkeVxuIFx0cmV0dXJuIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCk7XG4iLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiOGEzODIzN2FkYWE4ZGNmNzM4ODMyZGE0NjBlOWE5NzIuc3ZnXCI7IiwidmFyIGFwaSA9IHJlcXVpcmUoXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCIpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2Nsb2NrLmNzc1wiKTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHMgfHwge307IiwiLy8gSW1wb3J0c1xudmFyIF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyA9IHJlcXVpcmUoXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpO1xudmFyIF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18gPSByZXF1aXJlKFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2dldFVybC5qc1wiKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMF9fXyA9IHJlcXVpcmUoXCIuL3N0YXRpb25fY2xvY2suc3ZnXCIpO1xuZXhwb3J0cyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhmYWxzZSk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMF9fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzBfX18pO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuY2xvY2sge1xcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XFxuICAgIGJhY2tncm91bmQ6ICNmZmYgdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMF9fXyArIFwiKSBuby1yZXBlYXQgY2VudGVyO1xcbiAgICBiYWNrZ3JvdW5kLXNpemU6IDg4JTtcXG4gICAgaGVpZ2h0OiAwO1xcbiAgICBwYWRkaW5nLWJvdHRvbTogMzElO1xcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICAgIHdpZHRoOiAzMSU7XFxuICAgIG1hcmdpbjogYXV0bztcXG59XFxuXFxuLmNsb2NrLnNpbXBsZTphZnRlciB7XFxuICAgIGJhY2tncm91bmQ6ICMwMDA7XFxuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcXG4gICAgY29udGVudDogXFxcIlxcXCI7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgbGVmdDogNTAlO1xcbiAgICB0b3A6IDUwJTtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XFxuICAgIHdpZHRoOiA1JTtcXG4gICAgaGVpZ2h0OiA1JTtcXG4gICAgei1pbmRleDogMTA7XFxufVxcblxcbiNob3Vycy1oYW5kIHtcXG4gICAgYmFja2dyb3VuZDogIzAwMDtcXG4gICAgaGVpZ2h0OiAyMCU7XFxuICAgIGxlZnQ6IDQ4Ljc1JTtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICB0b3A6IDMwJTtcXG4gICAgdHJhbnNmb3JtLW9yaWdpbjogNTAlIDEwMCU7XFxuICAgIHdpZHRoOiAyLjUlO1xcbn1cXG5cXG4jbWludXRlcy1oYW5kIHtcXG4gICAgYmFja2dyb3VuZDogIzAwMDtcXG4gICAgaGVpZ2h0OiA0MCU7XFxuICAgIGxlZnQ6IDQ5JTtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICB0b3A6IDEwJTtcXG4gICAgdHJhbnNmb3JtLW9yaWdpbjogNTAlIDEwMCU7XFxuICAgIHdpZHRoOiAyJTtcXG59XFxuXFxuI3NlY29uZHMtaGFuZCB7XFxuICAgIGJhY2tncm91bmQ6ICMwMDA7XFxuICAgIGhlaWdodDogNDUlO1xcbiAgICBsZWZ0OiA0OS41JTtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICB0b3A6IDE0JTtcXG4gICAgdHJhbnNmb3JtLW9yaWdpbjogNTAlIDgwJTtcXG4gICAgd2lkdGg6IDElO1xcbiAgICB6LWluZGV4OiA4O1xcbn1cXG5cXG5cXG5cIiwgXCJcIl0pO1xuLy8gRXhwb3J0c1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzO1xuIiwiY29uc3QgbmV4dFJhbmRvbSA9IChtYXgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG1heCkgKyAxXG5cbmxldCBob3VycyA9IG5leHRSYW5kb20oMTIpXG5sZXQgbWludXRlcyA9IG5leHRSYW5kb20oNTkpXG5sZXQgc2Vjb25kcyA9IG5leHRSYW5kb20oNTkpXG5cbmV4cG9ydCBjb25zdCB0cmlnZ2VyTmV4dCA9ICgpID0+IHtcbiAgaG91cnMgPSBuZXh0UmFuZG9tKDEyKVxuICBtaW51dGVzID0gbmV4dFJhbmRvbSg1OSlcbiAgc2Vjb25kcyA9IG5leHRSYW5kb20oNTkpXG4gIHJldHVybiByZWFkKClcbn1cblxuZXhwb3J0IGNvbnN0IGNoZWNrQW5zd2VyID0gKGEpID0+IHtcbiAgY29uc3QgYWxsTWF0Y2ggPSBhLmhvdXJzID09PSBob3VycyAmJiBhLm1pbnV0ZXMgPT09IG1pbnV0ZXMgJiYgYS5zZWNvbmRzID09PSBzZWNvbmRzXG4gIGNvbnNvbGUubG9nKHtcbiAgICBjaGVja2luZzogYSxcbiAgICBjb3JyZWN0OiByZWFkKCksXG4gICAgYWxsTWF0Y2hcbiAgfSlcbiAgcmV0dXJuIGFsbE1hdGNoXG59XG5leHBvcnQgY29uc3QgcmVhZCA9ICgpID0+ICh7IGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzIH0pXG5cbmNvbnNvbGUubG9nKHsgdGltZTogcmVhZCgpIH0pXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG4vLyBub2luc3BlY3Rpb24gRVM2VW51c2VkSW1wb3J0c1xuaW1wb3J0IGNzcyBmcm9tICcuL2Nsb2NrLmNzcycgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuaW1wb3J0IHsgdG9IYW5kUG9zaXRpb24gfSBmcm9tICcuL2Zyb21UaW1lJ1xuXG5mdW5jdGlvbiBnZXRSb3RhdGlvbiAoc2VsZWN0b3JzKSB7XG4gIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9ycylcbiAgICAuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdGF0aW9uJylcbn1cblxuY29uc3QgY3NzUm90YXRpb24gPSBob3VycyA9PiBgcm90YXRlWigke2hvdXJzfWRlZylgXG5cbmNvbnN0IHNldFJvdGF0aW9uID0gKGVsZW1lbnRJZCwgcm90YXRpb24pID0+IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWQpXG4gIC5zdHlsZS50cmFuc2Zvcm0gPSBjc3NSb3RhdGlvbihyb3RhdGlvbikpXG5cbmV4cG9ydCBjb25zdCBRdWVzdGlvblJvdyA9ICh7IGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzLCBzaG93Um93IH0pID0+IHtcbiAgY29uc3QgaGFuZHMgPSB0b0hhbmRQb3NpdGlvbih7IGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzIH0pXG5cbiAgUmVhY3QudXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAvLyBvbiBoeWRyYXRlIFJlYWN0IHdvbid0IHVwZGF0ZSB0aGUgRE9NLlxuICAgIC8vIHRoaXMgcnVucyBvbmx5IG9uY2UgYW5kIGZvcmNlcyB0aGUgRE9NIHRvIHVwZGF0ZVxuICAgIGNvbnN0IGhvdXJzUm90YXRpb24gPSBnZXRSb3RhdGlvbignI2hvdXJzJylcbiAgICBjb25zdCBtaW51dGVzUm90YXRpb24gPSBnZXRSb3RhdGlvbignI21pbnV0ZXMnKVxuICAgIGNvbnN0IHNlY29uZHNSb3RhdGlvbiA9IGdldFJvdGF0aW9uKCcjc2Vjb25kcycpXG4gICAgY29uc29sZS5sb2coJ2NoZWNraW5nIGlmIHNob3VsZCBmb3JjZSByZW5kZXIgdG8gdXBkYXRlIGRvbSBvbiBoeWRyYXRpb24nKVxuICAgIGlmIChob3Vyc1JvdGF0aW9uICE9PSBoYW5kcy5ob3VycyAmJlxuICAgICAgbWludXRlc1JvdGF0aW9uICE9PSBoYW5kcy5taW51dGVzICYmXG4gICAgICBzZWNvbmRzUm90YXRpb24gIT09IGhhbmRzLnNlY29uZHMpIHtcbiAgICAgIGNvbnNvbGUubG9nKHtcbiAgICAgICAgaG91cnMsXG4gICAgICAgIG1pbnV0ZXMsXG4gICAgICAgIHNlY29uZHMsXG4gICAgICAgIGhhbmRzXG4gICAgICB9LCAnZm9yY2luZyByZW5kZXInKVxuICAgICAgc2V0Um90YXRpb24oJ2hvdXJzLWhhbmQnLCBoYW5kcy5ob3VycylcbiAgICAgIHNldFJvdGF0aW9uKCdtaW51dGVzLWhhbmQnLCBoYW5kcy5taW51dGVzKVxuICAgICAgc2V0Um90YXRpb24oJ3NlY29uZHMtaGFuZCcsIGhhbmRzLnNlY29uZHMpXG4gICAgfVxuICB9LCBbXSlcblxuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIGlkPSdxdWVzdGlvbi1yb3cnIGNsYXNzTmFtZT0ncm93J1xuICAgICAgc3R5bGU9e3sgZGlzcGxheTogc2hvd1JvdyB9fVxuICAgID5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPSdjbG9jayc+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdob3Vycy1jb250YWluZXInPlxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGlkPSdob3Vycy1oYW5kJ1xuICAgICAgICAgICAgZGF0YS1yb3RhdGlvbj17aGFuZHMuaG91cnN9XG4gICAgICAgICAgICBzdHlsZT17eyB0cmFuc2Zvcm06IGNzc1JvdGF0aW9uKGhhbmRzLmhvdXJzKSB9fVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbWludXRlcy1jb250YWluZXInPlxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGlkPSdtaW51dGVzLWhhbmQnXG4gICAgICAgICAgICBkYXRhLXJvdGF0aW9uPXtoYW5kcy5taW51dGVzfVxuICAgICAgICAgICAgc3R5bGU9e3sgdHJhbnNmb3JtOiBjc3NSb3RhdGlvbihoYW5kcy5taW51dGVzKSB9fVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc2Vjb25kcy1jb250YWluZXInPlxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGlkPSdzZWNvbmRzLWhhbmQnXG4gICAgICAgICAgICBkYXRhLXJvdGF0aW9uPXtoYW5kcy5zZWNvbmRzfVxuICAgICAgICAgICAgc3R5bGU9e3sgdHJhbnNmb3JtOiBjc3NSb3RhdGlvbihoYW5kcy5zZWNvbmRzKSB9fVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImxldCBjYXRHaWZVcmwgPSAnaHR0cHM6Ly9hcGkudGhlY2F0YXBpLmNvbS9hcGkvaW1hZ2VzL2dldD9mb3JtYXQ9c3JjJnR5cGU9Z2lmJ1xubGV0IG5leHRJbWFnZVxubGV0IHByZWxvYWRcblxuY29uc3QgcHJlbG9hZE5leHRDYXRHaWYgPSAoKSA9PiB7XG4gIHByZWxvYWQgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY2F0R2lmVXJsICs9ICcmY2FjaGVCdXN0ZXI9JyArIG5ldyBEYXRlKCkuZ2V0VGltZSgpXG5cbiAgICBjb25zdCBpbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpXG4gICAgaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgY29uc29sZS5sb2coY2F0R2lmVXJsLCAncHJlbG9hZGVkIScpXG4gICAgICBuZXh0SW1hZ2UgPSBpbWFnZVxuICAgICAgcmVzb2x2ZSgpXG4gICAgfVxuICAgIGltYWdlLm9uZXJyb3IgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgcmVqZWN0KGUpXG4gICAgfVxuICAgIGltYWdlLnNyYyA9IGNhdEdpZlVybFxuICB9KVxufVxuXG5leHBvcnQgY29uc3QgYWRkQ2F0SW1hZ2UgPSAoanNFbGVtZW50KSA9PiB7XG4gIGlmICghcHJlbG9hZCkge1xuICAgIHByZWxvYWROZXh0Q2F0R2lmKClcbiAgfVxuXG4gIHByZWxvYWQudGhlbigoKSA9PiB7XG4gICAganNFbGVtZW50LmlubmVySFRNTCA9ICcnXG4gICAganNFbGVtZW50LmFwcGVuZENoaWxkKG5leHRJbWFnZSlcbiAgfSkudGhlbigoKSA9PiB7XG4gICAgcHJlbG9hZCA9IG51bGxcbiAgICBwcmVsb2FkTmV4dENhdEdpZigpXG4gIH0pXG59XG4iLCJleHBvcnQgZnVuY3Rpb24gdG9IYW5kUG9zaXRpb24gKHsgaG91cnMsIG1pbnV0ZXMsIHNlY29uZHMgfSkge1xuICByZXR1cm4ge1xuICAgIGhvdXJzOiAoaG91cnMgKiAzMCkgKyAobWludXRlcyAvIDIpLFxuICAgIG1pbnV0ZXM6IChtaW51dGVzICogNiksXG4gICAgc2Vjb25kczogKHNlY29uZHMgKiA2KVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5cbmNvbnN0IG51bWJlckZyb21JbnB1dCA9IHNlbGVjdG9yID0+XG4gIHBhcnNlSW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpLnZhbHVlLCAxMClcblxuZXhwb3J0IGNvbnN0IEFuc3dlcklucHV0ID0gKHsgYW5zd2VyLCBhbnN3ZXJJc0NvcnJlY3QsIGhhbmRsZUNoYW5nZSwgc2hvd1JvdyB9KSA9PiB7XG4gIGNvbnN0IHNob3dXaGVuV3JvbmcgPSAoKSA9PlxuICAgIGFuc3dlcklzQ29ycmVjdCA9PSBudWxsIHx8IGFuc3dlcklzQ29ycmVjdCA/ICdub25lJyA6ICcnXG5cbiAgUmVhY3QudXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYW5zd2VyLXJvdyBpbnB1dCNob3VycycpLmZvY3VzKClcbiAgfSwgW10pXG5cbiAgY29uc3Qgb25DaGFuZ2UgPSAoZSkgPT4ge1xuICAgIGNvbnN0IGggPSBudW1iZXJGcm9tSW5wdXQoJyNob3VycycpXG4gICAgY29uc3QgbSA9IG51bWJlckZyb21JbnB1dCgnI21pbnV0ZXMnKVxuICAgIGNvbnN0IHMgPSBudW1iZXJGcm9tSW5wdXQoJyNzZWNvbmRzJylcbiAgICBjb25zb2xlLmxvZyh7IGgsIG0sIHMgfSwgJ2hhbmRsaW5nPycpXG4gICAgaGFuZGxlQ2hhbmdlKHtcbiAgICAgIGhvdXJzOiBoLFxuICAgICAgbWludXRlczogbSxcbiAgICAgIHNlY29uZHM6IHNcbiAgICB9KVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBpZD0nYW5zd2VyLXJvdycgY2xhc3NOYW1lPSdyb3cnXG4gICAgICBzdHlsZT17eyBkaXNwbGF5OiBzaG93Um93IH19XG4gICAgPlxuICAgICAgVGhlIHRpbWUgaXM6XG4gICAgICA8aW5wdXRcbiAgICAgICAgdHlwZT0nbnVtYmVyJyBtYXg9JzEyJyBtaW49JzAnIHN0ZXA9JzEnXG4gICAgICAgIGlkPSdob3VycydcbiAgICAgICAgdmFsdWU9e2Fuc3dlci5ob3Vyc30gb25DaGFuZ2U9e29uQ2hhbmdlfVxuICAgICAgLz4mbmJzcDs6Jm5ic3A7XG4gICAgICA8aW5wdXRcbiAgICAgICAgdHlwZT0nbnVtYmVyJyBtYXg9JzU5JyBtaW49JzAnIHN0ZXA9JzEnXG4gICAgICAgIGlkPSdtaW51dGVzJ1xuICAgICAgICB2YWx1ZT17YW5zd2VyLm1pbnV0ZXN9IG9uQ2hhbmdlPXtvbkNoYW5nZX1cbiAgICAgIC8+Jm5ic3A7OiZuYnNwO1xuICAgICAgPGlucHV0XG4gICAgICAgIHR5cGU9J251bWJlcicgbWF4PSc1OScgbWluPScwJyBzdGVwPScxJ1xuICAgICAgICBpZD0nc2Vjb25kcydcbiAgICAgICAgdmFsdWU9e2Fuc3dlci5zZWNvbmRzfSBvbkNoYW5nZT17b25DaGFuZ2V9XG4gICAgICAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9J21hcmstaG9sZGVyJz5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdjcm9zcycgc3R5bGU9e3sgZGlzcGxheTogc2hvd1doZW5Xcm9uZygpIH19PuKcmDwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgKiBhcyBjYXRHaWZzIGZyb20gJy4vY2F0LWdpZnMnXG5cbmV4cG9ydCBjb25zdCBSYW5kb21DYXRHaWYgPSAoeyBxdWVzdGlvbiB9KSA9PiB7XG4gIFJlYWN0LnVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgY2F0R2lmcy5hZGRDYXRJbWFnZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2F0LWdpZicpKVxuICB9LCBbcXVlc3Rpb25dKVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBpZD0nY2F0LWdpZicgY2xhc3NOYW1lPSdkb25lLXJvdyc+XG4gICAgICBMb2FkaW5nLi4uXG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCB7IFJhbmRvbUNhdEdpZiB9IGZyb20gJy4vUmFuZG9tQ2F0R2lmJ1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuXG5leHBvcnQgY29uc3QgQ29ycmVjdEFuc3dlciA9ICh7IHF1ZXN0aW9uLCBzaG91bGREaXNwbGF5LCByZXNldFBhZ2UgfSkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxkaXYgaWQ9J2RvbmUnIGNsYXNzTmFtZT0ncm93JyBzdHlsZT17eyBkaXNwbGF5OiBzaG91bGREaXNwbGF5IH19PlxuICAgICAgPGRpdiBjbGFzc05hbWU9J3Jlc3VsdCBkb25lLXJvdyc+XG4gICAgICAgIFllcyEgVGhlIHRpbWUgd2FzIHtxdWVzdGlvbi5ob3Vyc306e3F1ZXN0aW9uLm1pbnV0ZXN9OntxdWVzdGlvbi5zZWNvbmRzfVxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nZG9uZS1yb3cnPlxuICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3Jlc2V0UGFnZX0+XG4gICAgICAgICAgQXdlc29tZSwgQWdhaW4/XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgICA8UmFuZG9tQ2F0R2lmIHF1ZXN0aW9uPXtxdWVzdGlvbn0gLz5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0ICogYXMgcXVlc3Rpb24gZnJvbSAnLi9xdWVzdGlvbidcbmltcG9ydCB7IFF1ZXN0aW9uUm93IH0gZnJvbSAnLi9RdWVzdGlvblJvdydcbmltcG9ydCB7IEFuc3dlcklucHV0IH0gZnJvbSAnLi9FbnRlckFuc3dlclJvdydcbmltcG9ydCB7IENvcnJlY3RBbnN3ZXIgfSBmcm9tICcuL0NvcnJlY3RBbnN3ZXJSb3cnXG5cbmNvbnN0IENsb2NreU1jRmFjZSA9ICgpID0+IHtcbiAgY29uc3QgW2Fuc3dlciwgc2V0QW5zd2VyXSA9IFJlYWN0LnVzZVN0YXRlKHsgaG91cnM6ICcnLCBtaW51dGVzOiAnJywgc2Vjb25kczogJycgfSlcbiAgY29uc3QgW2Fuc3dlcklzQ29ycmVjdCwgc2V0QW5zd2VySXNDb3JyZWN0XSA9IFJlYWN0LnVzZVN0YXRlKG51bGwpXG4gIGNvbnN0IFtxLCBzZXRRdWVzdGlvbl0gPSBSZWFjdC51c2VTdGF0ZShxdWVzdGlvbi5yZWFkKCkpXG5cbiAgY29uc3QgaGFuZGxlQ2hhbmdlID0gKGFuc3dlcikgPT4ge1xuICAgIHNldEFuc3dlcihhbnN3ZXIpXG4gICAgc2V0QW5zd2VySXNDb3JyZWN0KHF1ZXN0aW9uLmNoZWNrQW5zd2VyKGFuc3dlcikpXG4gIH1cblxuICBjb25zdCBzaG93V2hlbkNvcnJlY3QgPSAoKSA9PlxuICAgIGFuc3dlcklzQ29ycmVjdCA9PSBudWxsIHx8ICFhbnN3ZXJJc0NvcnJlY3QgPyAnbm9uZScgOiAnJ1xuXG4gIGNvbnN0IGhpZGVXaGVuQ29ycmVjdCA9ICgpID0+XG4gICAgYW5zd2VySXNDb3JyZWN0ID09IG51bGwgfHwgIWFuc3dlcklzQ29ycmVjdCA/ICcnIDogJ25vbmUnXG5cbiAgY29uc3QgcmVzZXRQYWdlID0gKCkgPT4ge1xuICAgIGNvbnN0IG5ld1F1ZXN0aW9uID0gcXVlc3Rpb24udHJpZ2dlck5leHQoKVxuICAgIHNldFF1ZXN0aW9uKG5ld1F1ZXN0aW9uKVxuICAgIHNldEFuc3dlcih7IGhvdXJzOiAnJywgbWludXRlczogJycsIHNlY29uZHM6ICcnIH0pXG4gICAgc2V0QW5zd2VySXNDb3JyZWN0KG51bGwpXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXY+XG4gICAgICA8UXVlc3Rpb25Sb3dcbiAgICAgICAgaG91cnM9e3EuaG91cnN9XG4gICAgICAgIG1pbnV0ZXM9e3EubWludXRlc31cbiAgICAgICAgc2Vjb25kcz17cS5zZWNvbmRzfVxuICAgICAgICBzaG93Um93PXtoaWRlV2hlbkNvcnJlY3QoKX1cbiAgICAgIC8+XG4gICAgICA8QW5zd2VySW5wdXRcbiAgICAgICAgYW5zd2VyPXthbnN3ZXJ9XG4gICAgICAgIGFuc3dlcklzQ29ycmVjdD17YW5zd2VySXNDb3JyZWN0fVxuICAgICAgICBzaG93Um93PXtoaWRlV2hlbkNvcnJlY3QoKX1cbiAgICAgICAgaGFuZGxlQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9XG4gICAgICAvPlxuICAgICAgPENvcnJlY3RBbnN3ZXJcbiAgICAgICAgcXVlc3Rpb249e3F9XG4gICAgICAgIHNob3VsZERpc3BsYXk9e3Nob3dXaGVuQ29ycmVjdCgpfVxuICAgICAgICByZXNldFBhZ2U9e3Jlc2V0UGFnZX1cbiAgICAgIC8+XG4gICAgPC9kaXY+KVxufVxuXG5leHBvcnQgZGVmYXVsdCBDbG9ja3lNY0ZhY2VcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IGh5ZHJhdGUgfSBmcm9tICdyZWFjdC1kb20nXG5pbXBvcnQgQ2xvY2t5TWNGYWNlIGZyb20gJy4vQ2xvY2t5TWNGYWNlJ1xuXG5oeWRyYXRlKDxDbG9ja3lNY0ZhY2UgLz4sIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb290JykpXG4iXSwic291cmNlUm9vdCI6IiJ9