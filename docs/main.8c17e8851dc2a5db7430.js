!function(e){function n(n){for(var r,s,i=n[0],u=n[1],c=n[2],d=0,m=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&m.push(o[s][0]),o[s]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(l&&l(n);m.length;)m.shift()();return a.push.apply(a,c||[]),t()}function t(){for(var e,n=0;n<a.length;n++){for(var t=a[n],r=!0,i=1;i<t.length;i++){var u=t[i];0!==o[u]&&(r=!1)}r&&(a.splice(n--,1),e=s(s.s=t[0]))}return e}var r={},o={0:0},a=[];function s(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.m=e,s.c=r,s.d=function(e,n,t){s.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,n){if(1&n&&(e=s(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(s.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)s.d(t,r,function(n){return e[n]}.bind(null,r));return t},s.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(n,"a",n),n},s.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},s.p="";var i=window.webpackJsonp=window.webpackJsonp||[],u=i.push.bind(i);i.push=n,i=i.slice();for(var c=0;c<i.length;c++)n(i[c]);var l=u;a.push(["tjUo",1]),t()}({"Wb3+":function(e,n,t){"use strict";t.r(n),n.default=t.p+"8a38237adaa8dcf738832da460e9a972.svg"},kMZY:function(e,n,t){var r=t("LboF"),o=t("rXkF");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1};r(o,a);e.exports=o.locals||{}},rXkF:function(e,n,t){var r=t("JPst"),o=t("HeW1"),a=t("Wb3+");n=r(!1);var s=o(a);n.push([e.i,".clock {\n    border-radius: 50%;\n    background: #fff url("+s+') no-repeat center;\n    background-size: 88%;\n    height: 0;\n    padding-bottom: 31%;\n    position: relative;\n    width: 300px;\n    margin: auto;\n}\n\n@media (max-width: 750px) {\n    input {\n        width: 22%;\n    }\n}\n\n    .clock.simple:after {\n    background: #000;\n    border-radius: 50%;\n    content: "";\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    width: 5%;\n    height: 5%;\n    z-index: 10;\n}\n\n#hours-hand {\n    background: #000;\n    height: 20%;\n    left: 48.75%;\n    position: absolute;\n    top: 30%;\n    transform-origin: 50% 100%;\n    width: 2.5%;\n}\n\n#minutes-hand {\n    background: #000;\n    height: 40%;\n    left: 49%;\n    position: absolute;\n    top: 10%;\n    transform-origin: 50% 100%;\n    width: 2%;\n}\n\n#seconds-hand {\n    background: #000;\n    height: 45%;\n    left: 49.5%;\n    position: absolute;\n    top: 14%;\n    transform-origin: 50% 80%;\n    width: 1%;\n    z-index: 8;\n}\n\n\n',""]),e.exports=n},tjUo:function(e,n,t){"use strict";t.r(n);var r=t("q1tI"),o=t.n(r),a=t("i8i4"),s=function(e){return Math.floor(Math.random()*e)+1},i=s(12),u=s(59),c=s(59),l=function(){return{hours:i,minutes:u,seconds:c}};console.log({time:l()});t("kMZY");var d,m,f=function(e){return document.querySelector(e)&&document.querySelector(e).getAttribute("data-rotation")},h=function(e){return"rotateZ(".concat(e,"deg)")},p=function(e,n){return document.getElementById(e).style.transform=h(n)},g=function(e){var n=e.hours,t=e.minutes,r=e.seconds,a=e.includeSeconds,s=e.showRow,i=function(e){var n=e.hours,t=e.minutes;return{hours:30*n+t/2,minutes:6*t,seconds:6*e.seconds}}({hours:n,minutes:t,seconds:r});return o.a.useLayoutEffect((function(){var e=f("#hours"),o=f("#minutes"),a=f("#seconds");console.log("checking if should force render to update dom on hydration"),e!==i.hours&&o!==i.minutes&&a!==i.seconds&&(console.log({hours:n,minutes:t,seconds:r,hands:i},"forcing render"),p("hours-hand",i.hours),p("minutes-hand",i.minutes),p("seconds-hand",i.seconds))}),[]),o.a.createElement("div",{id:"question-row",className:"row",style:{display:s}},o.a.createElement("div",{className:"clock"},o.a.createElement("div",{className:"hours-container"},o.a.createElement("div",{id:"hours-hand","data-rotation":i.hours,style:{transform:h(i.hours)}})),o.a.createElement("div",{className:"minutes-container"},o.a.createElement("div",{id:"minutes-hand","data-rotation":i.minutes,style:{transform:h(i.minutes)}})),a&&o.a.createElement("div",{className:"seconds-container"},o.a.createElement("div",{id:"seconds-hand","data-rotation":i.seconds,style:{transform:h(i.seconds)}}))))},y=function(e){return parseInt(document.querySelector(e).value,10)},v=function(e){var n=e.answer,t=e.answerIsCorrect,r=e.includeSeconds,a=e.handleChange,s=e.showRow;o.a.useLayoutEffect((function(){document.querySelector("#answer-row input#hours").focus()}),[]);var i=function(e){a({hours:y("#hours"),minutes:y("#minutes"),seconds:r&&y("#seconds")})};return o.a.createElement("div",{id:"answer-row",className:"row",style:{display:s}},"The time is: ",o.a.createElement("br",null),o.a.createElement("input",{type:"number",max:"12",min:"0",step:"1",id:"hours",value:n.hours,onChange:i})," : ",o.a.createElement("input",{type:"number",max:"59",min:"0",step:"1",id:"minutes",value:n.minutes,onChange:i}),r&&o.a.createElement("span",null," : "),r&&o.a.createElement("input",{type:"number",max:"59",min:"0",step:"1",id:"seconds",value:n.seconds,onChange:i}),o.a.createElement("div",{className:"mark-holder"},o.a.createElement("span",{className:"cross",style:{display:null==t||t?"none":""}},"✘")))},b="https://api.thecatapi.com/api/images/get?format=src&type=gif",w=function(){m=new Promise((function(e,n){b+="&cacheBuster="+(new Date).getTime();var t=document.createElement("img");t.onload=function(){console.log(b,"preloaded!"),d=t,e()},t.onerror=function(e){n(e)},t.src=b}))},E=function(e){var n=e.question;return o.a.useLayoutEffect((function(){var e;e=document.getElementById("cat-gif"),m||w(),m.then((function(){e.innerHTML="",e.appendChild(d)})).then((function(){m=null,w()}))}),[n]),o.a.createElement("div",{id:"cat-gif",className:"done-row"},"Loading...")},S=function(e){var n=e.question,t=e.includeSeconds,r=e.shouldDisplay,a=e.resetPage,s="".concat(n.hours.toString().padStart(2,"0"),":").concat(n.minutes.toString().padStart(2,"0"));return t&&(s+=":".concat(n.seconds.toString().padStart(2,"0"))),o.a.createElement("div",{id:"done",className:"row",style:{display:r}},o.a.createElement("div",{className:"result done-row"},"Yes! The time was ",s),o.a.createElement("div",{className:"done-row"},o.a.createElement("button",{onClick:a},"Awesome, Again?")),o.a.createElement(E,{question:n}))};function k(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],r=!0,o=!1,a=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(t.push(s.value),!n||t.length!==n);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return t}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return x(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return x(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var j=function(){var e=k(o.a.useState({hours:"",minutes:"",seconds:""}),2),n=e[0],t=e[1],r=k(o.a.useState(null),2),a=r[0],d=r[1],m=k(o.a.useState(l()),2),f=m[0],h=m[1],p=k(o.a.useState(!0),2),y=p[0],b=p[1],w=function(){return null!=a&&a?"none":""};return o.a.createElement("div",null,o.a.createElement(g,{hours:f.hours,minutes:f.minutes,seconds:f.seconds,includeSeconds:y,showRow:w()}),o.a.createElement(v,{answer:n,answerIsCorrect:a,includeSeconds:y,showRow:w(),handleChange:function(e){t(e),d(function(e,n){var t=!n||e.seconds===c,r=e.hours===i&&e.minutes===u&&t;return console.log({checking:e,correct:l(),includeSeconds:n,allMatch:r}),r}(e,y))}}),o.a.createElement(S,{question:f,includeSeconds:y,shouldDisplay:null!=a&&a?"":"none",resetPage:function(){var e=(i=s(12),u=s(59),c=s(59),l());h(e),t({hours:"",minutes:"",seconds:""}),d(null)}}),o.a.createElement("div",{id:"difficulty",className:"row"},o.a.createElement("label",{htmlFor:"include-seconds"},"Include seconds in the question?",o.a.createElement("input",{type:"checkbox",name:"include-seconds",checked:y,onChange:function(e){b(e.target.checked)}}))))};Object(a.hydrate)(o.a.createElement(j,null),document.getElementById("root"))}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0YXRpb25fY2xvY2suc3ZnIiwid2VicGFjazovLy8uL3NyYy9jbG9jay5jc3M/MzAyNiIsIndlYnBhY2s6Ly8vLi9zcmMvY2xvY2suY3NzIiwid2VicGFjazovLy8uL3NyYy9xdWVzdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvUXVlc3Rpb25Sb3cuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NhdC1naWZzLmpzIiwid2VicGFjazovLy8uL3NyYy9mcm9tVGltZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvRW50ZXJBbnN3ZXJSb3cuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1JhbmRvbUNhdEdpZi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29ycmVjdEFuc3dlclJvdy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvQ2xvY2t5TWNGYWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJ3ZWJwYWNrSnNvbnBDYWxsYmFjayIsImRhdGEiLCJtb2R1bGVJZCIsImNodW5rSWQiLCJjaHVua0lkcyIsIm1vcmVNb2R1bGVzIiwiZXhlY3V0ZU1vZHVsZXMiLCJpIiwicmVzb2x2ZXMiLCJsZW5ndGgiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpbnN0YWxsZWRDaHVua3MiLCJwdXNoIiwibW9kdWxlcyIsInBhcmVudEpzb25wRnVuY3Rpb24iLCJzaGlmdCIsImRlZmVycmVkTW9kdWxlcyIsImFwcGx5IiwiY2hlY2tEZWZlcnJlZE1vZHVsZXMiLCJyZXN1bHQiLCJkZWZlcnJlZE1vZHVsZSIsImZ1bGZpbGxlZCIsImoiLCJkZXBJZCIsInNwbGljZSIsIl9fd2VicGFja19yZXF1aXJlX18iLCJzIiwiaW5zdGFsbGVkTW9kdWxlcyIsIjAiLCJleHBvcnRzIiwibW9kdWxlIiwibCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwIiwianNvbnBBcnJheSIsIndpbmRvdyIsIm9sZEpzb25wRnVuY3Rpb24iLCJzbGljZSIsImFwaSIsImNvbnRlbnQiLCJkZWZhdWx0Iiwib3B0aW9ucyIsImxvY2FscyIsIl9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyIsIl9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18iLCJfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMF9fXyIsIl9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzBfX18iLCJuZXh0UmFuZG9tIiwibWF4IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiaG91cnMiLCJtaW51dGVzIiwic2Vjb25kcyIsInJlYWQiLCJjb25zb2xlIiwibG9nIiwidGltZSIsIm5leHRJbWFnZSIsInByZWxvYWQiLCJnZXRSb3RhdGlvbiIsInNlbGVjdG9yIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZ2V0QXR0cmlidXRlIiwiY3NzUm90YXRpb24iLCJzZXRSb3RhdGlvbiIsImVsZW1lbnRJZCIsInJvdGF0aW9uIiwiZ2V0RWxlbWVudEJ5SWQiLCJzdHlsZSIsInRyYW5zZm9ybSIsIlF1ZXN0aW9uUm93IiwiaW5jbHVkZVNlY29uZHMiLCJzaG93Um93IiwiaGFuZHMiLCJ0b0hhbmRQb3NpdGlvbiIsIlJlYWN0IiwidXNlTGF5b3V0RWZmZWN0IiwiaG91cnNSb3RhdGlvbiIsIm1pbnV0ZXNSb3RhdGlvbiIsInNlY29uZHNSb3RhdGlvbiIsImlkIiwiY2xhc3NOYW1lIiwiZGlzcGxheSIsImRhdGEtcm90YXRpb24iLCJudW1iZXJGcm9tSW5wdXQiLCJwYXJzZUludCIsIkFuc3dlcklucHV0IiwiYW5zd2VyIiwiYW5zd2VySXNDb3JyZWN0IiwiaGFuZGxlQ2hhbmdlIiwiZm9jdXMiLCJvbkNoYW5nZSIsImUiLCJ0eXBlIiwibWluIiwic3RlcCIsImNhdEdpZlVybCIsInByZWxvYWROZXh0Q2F0R2lmIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJEYXRlIiwiZ2V0VGltZSIsImltYWdlIiwiY3JlYXRlRWxlbWVudCIsIm9ubG9hZCIsIm9uZXJyb3IiLCJzcmMiLCJSYW5kb21DYXRHaWYiLCJxdWVzdGlvbiIsImpzRWxlbWVudCIsInRoZW4iLCJpbm5lckhUTUwiLCJhcHBlbmRDaGlsZCIsIkNvcnJlY3RBbnN3ZXIiLCJzaG91bGREaXNwbGF5IiwicmVzZXRQYWdlIiwiZm9ybWF0dGVkQW5zd2VyIiwidG9TdHJpbmciLCJwYWRTdGFydCIsIm9uQ2xpY2siLCJDbG9ja3lNY0ZhY2UiLCJ1c2VTdGF0ZSIsInNldEFuc3dlciIsInNldEFuc3dlcklzQ29ycmVjdCIsInEiLCJzZXRRdWVzdGlvbiIsInNldEluY2x1ZGVRdWVzdGlvbnMiLCJoaWRlV2hlbkNvcnJlY3QiLCJhIiwic2tpcE9yQ2hlY2tTZWNvbmRzIiwiYWxsTWF0Y2giLCJjaGVja2luZyIsImNvcnJlY3QiLCJuZXdRdWVzdGlvbiIsImh0bWxGb3IiLCJjaGVja2VkIiwidGFyZ2V0IiwiaHlkcmF0ZSJdLCJtYXBwaW5ncyI6ImFBQ0UsU0FBU0EsRUFBcUJDLEdBUTdCLElBUEEsSUFNSUMsRUFBVUMsRUFOVkMsRUFBV0gsRUFBSyxHQUNoQkksRUFBY0osRUFBSyxHQUNuQkssRUFBaUJMLEVBQUssR0FJSE0sRUFBSSxFQUFHQyxFQUFXLEdBQ3BDRCxFQUFJSCxFQUFTSyxPQUFRRixJQUN6QkosRUFBVUMsRUFBU0csR0FDaEJHLE9BQU9DLFVBQVVDLGVBQWVDLEtBQUtDLEVBQWlCWCxJQUFZVyxFQUFnQlgsSUFDcEZLLEVBQVNPLEtBQUtELEVBQWdCWCxHQUFTLElBRXhDVyxFQUFnQlgsR0FBVyxFQUU1QixJQUFJRCxLQUFZRyxFQUNaSyxPQUFPQyxV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a0IsR1ByQlJyRixFQUFRTCxFQUFXLElBQ25CTSxFQUFVTixFQUFXLElBQ3JCTyxFQUFVUCxFQUFXLElBQ2RRLEtPbUJMMEUsRUFBWVEsR0FDWlgsRUFBVSxDQUFFMUUsTUFBTyxHQUFJQyxRQUFTLEdBQUlDLFFBQVMsS0FDN0N5RSxFQUFtQixTQTZCakIseUJBQUs1QyxHQUFHLGFBQWFDLFVBQVUsT0FDN0IsMkJBQU9zRCxRQUFRLG1CQUFmLG1DQUVFLDJCQUFPMUMsS0FBSyxXQUFXbkYsS0FBSyxrQkFBa0I4SCxRQUFTakUsRUFBZ0JvQixTQTdCakQsU0FBQ0MsR0FDN0JtQyxFQUFvQm5DLEVBQUU2QyxPQUFPRCxnQkMvQmpDRSxrQkFBUSxrQkFBQyxFQUFELE1BQWtCOUUsU0FBU08sZUFBZSIsImZpbGUiOiJtYWluLjhjMTdlODg1MWRjMmE1ZGI3NDMwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gaW5zdGFsbCBhIEpTT05QIGNhbGxiYWNrIGZvciBjaHVuayBsb2FkaW5nXG4gXHRmdW5jdGlvbiB3ZWJwYWNrSnNvbnBDYWxsYmFjayhkYXRhKSB7XG4gXHRcdHZhciBjaHVua0lkcyA9IGRhdGFbMF07XG4gXHRcdHZhciBtb3JlTW9kdWxlcyA9IGRhdGFbMV07XG4gXHRcdHZhciBleGVjdXRlTW9kdWxlcyA9IGRhdGFbMl07XG5cbiBcdFx0Ly8gYWRkIFwibW9yZU1vZHVsZXNcIiB0byB0aGUgbW9kdWxlcyBvYmplY3QsXG4gXHRcdC8vIHRoZW4gZmxhZyBhbGwgXCJjaHVua0lkc1wiIGFzIGxvYWRlZCBhbmQgZmlyZSBjYWxsYmFja1xuIFx0XHR2YXIgbW9kdWxlSWQsIGNodW5rSWQsIGkgPSAwLCByZXNvbHZlcyA9IFtdO1xuIFx0XHRmb3IoO2kgPCBjaHVua0lkcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdGNodW5rSWQgPSBjaHVua0lkc1tpXTtcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSAmJiBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcbiBcdFx0XHRcdHJlc29sdmVzLnB1c2goaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdWzBdKTtcbiBcdFx0XHR9XG4gXHRcdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gMDtcbiBcdFx0fVxuIFx0XHRmb3IobW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuIFx0XHRcdFx0bW9kdWxlc1ttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdGlmKHBhcmVudEpzb25wRnVuY3Rpb24pIHBhcmVudEpzb25wRnVuY3Rpb24oZGF0YSk7XG5cbiBcdFx0d2hpbGUocmVzb2x2ZXMubGVuZ3RoKSB7XG4gXHRcdFx0cmVzb2x2ZXMuc2hpZnQoKSgpO1xuIFx0XHR9XG5cbiBcdFx0Ly8gYWRkIGVudHJ5IG1vZHVsZXMgZnJvbSBsb2FkZWQgY2h1bmsgdG8gZGVmZXJyZWQgbGlzdFxuIFx0XHRkZWZlcnJlZE1vZHVsZXMucHVzaC5hcHBseShkZWZlcnJlZE1vZHVsZXMsIGV4ZWN1dGVNb2R1bGVzIHx8IFtdKTtcblxuIFx0XHQvLyBydW4gZGVmZXJyZWQgbW9kdWxlcyB3aGVuIGFsbCBjaHVua3MgcmVhZHlcbiBcdFx0cmV0dXJuIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCk7XG4gXHR9O1xuIFx0ZnVuY3Rpb24gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKSB7XG4gXHRcdHZhciByZXN1bHQ7XG4gXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBkZWZlcnJlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHR2YXIgZGVmZXJyZWRNb2R1bGUgPSBkZWZlcnJlZE1vZHVsZXNbaV07XG4gXHRcdFx0dmFyIGZ1bGZpbGxlZCA9IHRydWU7XG4gXHRcdFx0Zm9yKHZhciBqID0gMTsgaiA8IGRlZmVycmVkTW9kdWxlLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHR2YXIgZGVwSWQgPSBkZWZlcnJlZE1vZHVsZVtqXTtcbiBcdFx0XHRcdGlmKGluc3RhbGxlZENodW5rc1tkZXBJZF0gIT09IDApIGZ1bGZpbGxlZCA9IGZhbHNlO1xuIFx0XHRcdH1cbiBcdFx0XHRpZihmdWxmaWxsZWQpIHtcbiBcdFx0XHRcdGRlZmVycmVkTW9kdWxlcy5zcGxpY2UoaS0tLCAxKTtcbiBcdFx0XHRcdHJlc3VsdCA9IF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gZGVmZXJyZWRNb2R1bGVbMF0pO1xuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdHJldHVybiByZXN1bHQ7XG4gXHR9XG5cbiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4gXHQvLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbiBcdC8vIFByb21pc2UgPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG4gXHR2YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuIFx0XHQwOiAwXG4gXHR9O1xuXG4gXHR2YXIgZGVmZXJyZWRNb2R1bGVzID0gW107XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdHZhciBqc29ucEFycmF5ID0gd2luZG93W1wid2VicGFja0pzb25wXCJdID0gd2luZG93W1wid2VicGFja0pzb25wXCJdIHx8IFtdO1xuIFx0dmFyIG9sZEpzb25wRnVuY3Rpb24gPSBqc29ucEFycmF5LnB1c2guYmluZChqc29ucEFycmF5KTtcbiBcdGpzb25wQXJyYXkucHVzaCA9IHdlYnBhY2tKc29ucENhbGxiYWNrO1xuIFx0anNvbnBBcnJheSA9IGpzb25wQXJyYXkuc2xpY2UoKTtcbiBcdGZvcih2YXIgaSA9IDA7IGkgPCBqc29ucEFycmF5Lmxlbmd0aDsgaSsrKSB3ZWJwYWNrSnNvbnBDYWxsYmFjayhqc29ucEFycmF5W2ldKTtcbiBcdHZhciBwYXJlbnRKc29ucEZ1bmN0aW9uID0gb2xkSnNvbnBGdW5jdGlvbjtcblxuXG4gXHQvLyBhZGQgZW50cnkgbW9kdWxlIHRvIGRlZmVycmVkIGxpc3RcbiBcdGRlZmVycmVkTW9kdWxlcy5wdXNoKFtcInRqVW9cIiwxXSk7XG4gXHQvLyBydW4gZGVmZXJyZWQgbW9kdWxlcyB3aGVuIHJlYWR5XG4gXHRyZXR1cm4gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKTtcbiIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI4YTM4MjM3YWRhYThkY2Y3Mzg4MzJkYTQ2MGU5YTk3Mi5zdmdcIjsiLCJ2YXIgYXBpID0gcmVxdWlyZShcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIik7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vY2xvY2suY3NzXCIpO1xuXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICB9XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscyB8fCB7fTsiLCIvLyBJbXBvcnRzXG52YXIgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fID0gcmVxdWlyZShcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIik7XG52YXIgX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyA9IHJlcXVpcmUoXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvZ2V0VXJsLmpzXCIpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8wX19fID0gcmVxdWlyZShcIi4vc3RhdGlvbl9jbG9jay5zdmdcIik7XG5leHBvcnRzID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKGZhbHNlKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8wX19fID0gX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMF9fXyk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5jbG9jayB7XFxuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcXG4gICAgYmFja2dyb3VuZDogI2ZmZiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8wX19fICsgXCIpIG5vLXJlcGVhdCBjZW50ZXI7XFxuICAgIGJhY2tncm91bmQtc2l6ZTogODglO1xcbiAgICBoZWlnaHQ6IDA7XFxuICAgIHBhZGRpbmctYm90dG9tOiAzMSU7XFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gICAgd2lkdGg6IDMwMHB4O1xcbiAgICBtYXJnaW46IGF1dG87XFxufVxcblxcbkBtZWRpYSAobWF4LXdpZHRoOiA3NTBweCkge1xcbiAgICBpbnB1dCB7XFxuICAgICAgICB3aWR0aDogMjIlO1xcbiAgICB9XFxufVxcblxcbiAgICAuY2xvY2suc2ltcGxlOmFmdGVyIHtcXG4gICAgYmFja2dyb3VuZDogIzAwMDtcXG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xcbiAgICBjb250ZW50OiBcXFwiXFxcIjtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICBsZWZ0OiA1MCU7XFxuICAgIHRvcDogNTAlO1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcXG4gICAgd2lkdGg6IDUlO1xcbiAgICBoZWlnaHQ6IDUlO1xcbiAgICB6LWluZGV4OiAxMDtcXG59XFxuXFxuI2hvdXJzLWhhbmQge1xcbiAgICBiYWNrZ3JvdW5kOiAjMDAwO1xcbiAgICBoZWlnaHQ6IDIwJTtcXG4gICAgbGVmdDogNDguNzUlO1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIHRvcDogMzAlO1xcbiAgICB0cmFuc2Zvcm0tb3JpZ2luOiA1MCUgMTAwJTtcXG4gICAgd2lkdGg6IDIuNSU7XFxufVxcblxcbiNtaW51dGVzLWhhbmQge1xcbiAgICBiYWNrZ3JvdW5kOiAjMDAwO1xcbiAgICBoZWlnaHQ6IDQwJTtcXG4gICAgbGVmdDogNDklO1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIHRvcDogMTAlO1xcbiAgICB0cmFuc2Zvcm0tb3JpZ2luOiA1MCUgMTAwJTtcXG4gICAgd2lkdGg6IDIlO1xcbn1cXG5cXG4jc2Vjb25kcy1oYW5kIHtcXG4gICAgYmFja2dyb3VuZDogIzAwMDtcXG4gICAgaGVpZ2h0OiA0NSU7XFxuICAgIGxlZnQ6IDQ5LjUlO1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIHRvcDogMTQlO1xcbiAgICB0cmFuc2Zvcm0tb3JpZ2luOiA1MCUgODAlO1xcbiAgICB3aWR0aDogMSU7XFxuICAgIHotaW5kZXg6IDg7XFxufVxcblxcblxcblwiLCBcIlwiXSk7XG4vLyBFeHBvcnRzXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHM7XG4iLCJjb25zdCBuZXh0UmFuZG9tID0gKG1heCkgPT4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbWF4KSArIDFcblxubGV0IGhvdXJzID0gbmV4dFJhbmRvbSgxMilcbmxldCBtaW51dGVzID0gbmV4dFJhbmRvbSg1OSlcbmxldCBzZWNvbmRzID0gbmV4dFJhbmRvbSg1OSlcblxuZXhwb3J0IGNvbnN0IHRyaWdnZXJOZXh0ID0gKCkgPT4ge1xuICBob3VycyA9IG5leHRSYW5kb20oMTIpXG4gIG1pbnV0ZXMgPSBuZXh0UmFuZG9tKDU5KVxuICBzZWNvbmRzID0gbmV4dFJhbmRvbSg1OSlcbiAgcmV0dXJuIHJlYWQoKVxufVxuXG5leHBvcnQgY29uc3QgY2hlY2tBbnN3ZXIgPSAoYSwgaW5jbHVkZVNlY29uZHMpID0+IHtcbiAgY29uc3Qgc2tpcE9yQ2hlY2tTZWNvbmRzID0gIWluY2x1ZGVTZWNvbmRzIHx8IGEuc2Vjb25kcyA9PT0gc2Vjb25kc1xuICBjb25zdCBhbGxNYXRjaCA9IGEuaG91cnMgPT09IGhvdXJzICYmIGEubWludXRlcyA9PT0gbWludXRlcyAmJiBza2lwT3JDaGVja1NlY29uZHNcbiAgY29uc29sZS5sb2coe1xuICAgIGNoZWNraW5nOiBhLFxuICAgIGNvcnJlY3Q6IHJlYWQoKSxcbiAgICBpbmNsdWRlU2Vjb25kcyxcbiAgICBhbGxNYXRjaFxuICB9KVxuICByZXR1cm4gYWxsTWF0Y2hcbn1cbmV4cG9ydCBjb25zdCByZWFkID0gKCkgPT4gKHsgaG91cnMsIG1pbnV0ZXMsIHNlY29uZHMgfSlcblxuY29uc29sZS5sb2coeyB0aW1lOiByZWFkKCkgfSlcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbi8vIG5vaW5zcGVjdGlvbiBFUzZVbnVzZWRJbXBvcnRzXG5pbXBvcnQgY3NzIGZyb20gJy4vY2xvY2suY3NzJyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5pbXBvcnQgeyB0b0hhbmRQb3NpdGlvbiB9IGZyb20gJy4vZnJvbVRpbWUnXG5cbmNvbnN0IGdldFJvdGF0aW9uID0gc2VsZWN0b3IgPT4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcikgJiZcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcikuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdGF0aW9uJylcblxuY29uc3QgY3NzUm90YXRpb24gPSBob3VycyA9PiBgcm90YXRlWigke2hvdXJzfWRlZylgXG5cbmNvbnN0IHNldFJvdGF0aW9uID0gKGVsZW1lbnRJZCwgcm90YXRpb24pID0+IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWQpXG4gIC5zdHlsZS50cmFuc2Zvcm0gPSBjc3NSb3RhdGlvbihyb3RhdGlvbikpXG5cbmV4cG9ydCBjb25zdCBRdWVzdGlvblJvdyA9ICh7IGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzLCBpbmNsdWRlU2Vjb25kcywgc2hvd1JvdyB9KSA9PiB7XG4gIGNvbnN0IGhhbmRzID0gdG9IYW5kUG9zaXRpb24oeyBob3VycywgbWludXRlcywgc2Vjb25kcyB9KVxuXG4gIFJlYWN0LnVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgLy8gb24gaHlkcmF0ZSBSZWFjdCB3b24ndCB1cGRhdGUgdGhlIERPTS5cbiAgICAvLyB0aGlzIHJ1bnMgb25seSBvbmNlIGFuZCBmb3JjZXMgdGhlIERPTSB0byB1cGRhdGVcbiAgICBjb25zdCBob3Vyc1JvdGF0aW9uID0gZ2V0Um90YXRpb24oJyNob3VycycpXG4gICAgY29uc3QgbWludXRlc1JvdGF0aW9uID0gZ2V0Um90YXRpb24oJyNtaW51dGVzJylcbiAgICBjb25zdCBzZWNvbmRzUm90YXRpb24gPSBnZXRSb3RhdGlvbignI3NlY29uZHMnKVxuICAgIGNvbnNvbGUubG9nKCdjaGVja2luZyBpZiBzaG91bGQgZm9yY2UgcmVuZGVyIHRvIHVwZGF0ZSBkb20gb24gaHlkcmF0aW9uJylcbiAgICBpZiAoaG91cnNSb3RhdGlvbiAhPT0gaGFuZHMuaG91cnMgJiZcbiAgICAgIG1pbnV0ZXNSb3RhdGlvbiAhPT0gaGFuZHMubWludXRlcyAmJlxuICAgICAgc2Vjb25kc1JvdGF0aW9uICE9PSBoYW5kcy5zZWNvbmRzKSB7XG4gICAgICBjb25zb2xlLmxvZyh7XG4gICAgICAgIGhvdXJzLFxuICAgICAgICBtaW51dGVzLFxuICAgICAgICBzZWNvbmRzLFxuICAgICAgICBoYW5kc1xuICAgICAgfSwgJ2ZvcmNpbmcgcmVuZGVyJylcbiAgICAgIHNldFJvdGF0aW9uKCdob3Vycy1oYW5kJywgaGFuZHMuaG91cnMpXG4gICAgICBzZXRSb3RhdGlvbignbWludXRlcy1oYW5kJywgaGFuZHMubWludXRlcylcbiAgICAgIHNldFJvdGF0aW9uKCdzZWNvbmRzLWhhbmQnLCBoYW5kcy5zZWNvbmRzKVxuICAgIH1cbiAgfSwgW10pXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBpZD0ncXVlc3Rpb24tcm93JyBjbGFzc05hbWU9J3JvdydcbiAgICAgIHN0eWxlPXt7IGRpc3BsYXk6IHNob3dSb3cgfX1cbiAgICA+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nY2xvY2snPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0naG91cnMtY29udGFpbmVyJz5cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBpZD0naG91cnMtaGFuZCdcbiAgICAgICAgICAgIGRhdGEtcm90YXRpb249e2hhbmRzLmhvdXJzfVxuICAgICAgICAgICAgc3R5bGU9e3sgdHJhbnNmb3JtOiBjc3NSb3RhdGlvbihoYW5kcy5ob3VycykgfX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J21pbnV0ZXMtY29udGFpbmVyJz5cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBpZD0nbWludXRlcy1oYW5kJ1xuICAgICAgICAgICAgZGF0YS1yb3RhdGlvbj17aGFuZHMubWludXRlc31cbiAgICAgICAgICAgIHN0eWxlPXt7IHRyYW5zZm9ybTogY3NzUm90YXRpb24oaGFuZHMubWludXRlcykgfX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge1xuICAgICAgICAgIGluY2x1ZGVTZWNvbmRzICYmXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc2Vjb25kcy1jb250YWluZXInPlxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgaWQ9J3NlY29uZHMtaGFuZCdcbiAgICAgICAgICAgICAgICBkYXRhLXJvdGF0aW9uPXtoYW5kcy5zZWNvbmRzfVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IHRyYW5zZm9ybTogY3NzUm90YXRpb24oaGFuZHMuc2Vjb25kcykgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICB9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwibGV0IGNhdEdpZlVybCA9ICdodHRwczovL2FwaS50aGVjYXRhcGkuY29tL2FwaS9pbWFnZXMvZ2V0P2Zvcm1hdD1zcmMmdHlwZT1naWYnXG5sZXQgbmV4dEltYWdlXG5sZXQgcHJlbG9hZFxuXG5jb25zdCBwcmVsb2FkTmV4dENhdEdpZiA9ICgpID0+IHtcbiAgcHJlbG9hZCA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjYXRHaWZVcmwgKz0gJyZjYWNoZUJ1c3Rlcj0nICsgbmV3IERhdGUoKS5nZXRUaW1lKClcblxuICAgIGNvbnN0IGltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJylcbiAgICBpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zb2xlLmxvZyhjYXRHaWZVcmwsICdwcmVsb2FkZWQhJylcbiAgICAgIG5leHRJbWFnZSA9IGltYWdlXG4gICAgICByZXNvbHZlKClcbiAgICB9XG4gICAgaW1hZ2Uub25lcnJvciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICByZWplY3QoZSlcbiAgICB9XG4gICAgaW1hZ2Uuc3JjID0gY2F0R2lmVXJsXG4gIH0pXG59XG5cbmV4cG9ydCBjb25zdCBhZGRDYXRJbWFnZSA9IChqc0VsZW1lbnQpID0+IHtcbiAgaWYgKCFwcmVsb2FkKSB7XG4gICAgcHJlbG9hZE5leHRDYXRHaWYoKVxuICB9XG5cbiAgcHJlbG9hZC50aGVuKCgpID0+IHtcbiAgICBqc0VsZW1lbnQuaW5uZXJIVE1MID0gJydcbiAgICBqc0VsZW1lbnQuYXBwZW5kQ2hpbGQobmV4dEltYWdlKVxuICB9KS50aGVuKCgpID0+IHtcbiAgICBwcmVsb2FkID0gbnVsbFxuICAgIHByZWxvYWROZXh0Q2F0R2lmKClcbiAgfSlcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiB0b0hhbmRQb3NpdGlvbiAoeyBob3VycywgbWludXRlcywgc2Vjb25kcyB9KSB7XG4gIHJldHVybiB7XG4gICAgaG91cnM6IChob3VycyAqIDMwKSArIChtaW51dGVzIC8gMiksXG4gICAgbWludXRlczogKG1pbnV0ZXMgKiA2KSxcbiAgICBzZWNvbmRzOiAoc2Vjb25kcyAqIDYpXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcblxuY29uc3QgbnVtYmVyRnJvbUlucHV0ID0gc2VsZWN0b3IgPT5cbiAgcGFyc2VJbnQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcikudmFsdWUsIDEwKVxuXG5leHBvcnQgY29uc3QgQW5zd2VySW5wdXQgPSAoeyBhbnN3ZXIsIGFuc3dlcklzQ29ycmVjdCwgaW5jbHVkZVNlY29uZHMsIGhhbmRsZUNoYW5nZSwgc2hvd1JvdyB9KSA9PiB7XG4gIGNvbnN0IHNob3dXaGVuV3JvbmcgPSAoKSA9PlxuICAgIGFuc3dlcklzQ29ycmVjdCA9PSBudWxsIHx8IGFuc3dlcklzQ29ycmVjdCA/ICdub25lJyA6ICcnXG5cbiAgUmVhY3QudXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYW5zd2VyLXJvdyBpbnB1dCNob3VycycpLmZvY3VzKClcbiAgfSwgW10pXG5cbiAgY29uc3Qgb25DaGFuZ2UgPSAoZSkgPT4ge1xuICAgIGhhbmRsZUNoYW5nZSh7XG4gICAgICBob3VyczogbnVtYmVyRnJvbUlucHV0KCcjaG91cnMnKSxcbiAgICAgIG1pbnV0ZXM6IG51bWJlckZyb21JbnB1dCgnI21pbnV0ZXMnKSxcbiAgICAgIHNlY29uZHM6IGluY2x1ZGVTZWNvbmRzICYmIG51bWJlckZyb21JbnB1dCgnI3NlY29uZHMnKVxuICAgIH0pXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIGlkPSdhbnN3ZXItcm93JyBjbGFzc05hbWU9J3JvdydcbiAgICAgIHN0eWxlPXt7IGRpc3BsYXk6IHNob3dSb3cgfX1cbiAgICA+XG4gICAgICBUaGUgdGltZSBpczogPGJyIC8+XG4gICAgICA8aW5wdXRcbiAgICAgICAgdHlwZT0nbnVtYmVyJyBtYXg9JzEyJyBtaW49JzAnIHN0ZXA9JzEnXG4gICAgICAgIGlkPSdob3VycydcbiAgICAgICAgdmFsdWU9e2Fuc3dlci5ob3Vyc30gb25DaGFuZ2U9e29uQ2hhbmdlfVxuICAgICAgLz4mbmJzcDs6Jm5ic3A7XG4gICAgICA8aW5wdXRcbiAgICAgICAgdHlwZT0nbnVtYmVyJyBtYXg9JzU5JyBtaW49JzAnIHN0ZXA9JzEnXG4gICAgICAgIGlkPSdtaW51dGVzJ1xuICAgICAgICB2YWx1ZT17YW5zd2VyLm1pbnV0ZXN9IG9uQ2hhbmdlPXtvbkNoYW5nZX1cbiAgICAgIC8+XG4gICAgICB7aW5jbHVkZVNlY29uZHMgJiYgPHNwYW4+Jm5ic3A7OiZuYnNwOzwvc3Bhbj59XG4gICAgICB7XG4gICAgICAgIGluY2x1ZGVTZWNvbmRzICYmXG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB0eXBlPSdudW1iZXInIG1heD0nNTknIG1pbj0nMCcgc3RlcD0nMSdcbiAgICAgICAgICAgIGlkPSdzZWNvbmRzJ1xuICAgICAgICAgICAgdmFsdWU9e2Fuc3dlci5zZWNvbmRzfSBvbkNoYW5nZT17b25DaGFuZ2V9XG4gICAgICAgICAgLz5cbiAgICAgIH1cbiAgICAgIDxkaXYgY2xhc3NOYW1lPSdtYXJrLWhvbGRlcic+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nY3Jvc3MnIHN0eWxlPXt7IGRpc3BsYXk6IHNob3dXaGVuV3JvbmcoKSB9fT7inJg8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0ICogYXMgY2F0R2lmcyBmcm9tICcuL2NhdC1naWZzJ1xuXG5leHBvcnQgY29uc3QgUmFuZG9tQ2F0R2lmID0gKHsgcXVlc3Rpb24gfSkgPT4ge1xuICBSZWFjdC51c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGNhdEdpZnMuYWRkQ2F0SW1hZ2UoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhdC1naWYnKSlcbiAgfSwgW3F1ZXN0aW9uXSlcblxuICByZXR1cm4gKFxuICAgIDxkaXYgaWQ9J2NhdC1naWYnIGNsYXNzTmFtZT0nZG9uZS1yb3cnPlxuICAgICAgTG9hZGluZy4uLlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgeyBSYW5kb21DYXRHaWYgfSBmcm9tICcuL1JhbmRvbUNhdEdpZidcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcblxuZXhwb3J0IGNvbnN0IENvcnJlY3RBbnN3ZXIgPSAoeyBxdWVzdGlvbiwgaW5jbHVkZVNlY29uZHMsIHNob3VsZERpc3BsYXksIHJlc2V0UGFnZSB9KSA9PiB7XG4gIGxldCBmb3JtYXR0ZWRBbnN3ZXIgPSBgJHtxdWVzdGlvbi5ob3Vycy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9OiR7cXVlc3Rpb24ubWludXRlcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9YFxuICBpZiAoaW5jbHVkZVNlY29uZHMpIGZvcm1hdHRlZEFuc3dlciArPSBgOiR7cXVlc3Rpb24uc2Vjb25kcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9YFxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBpZD0nZG9uZScgY2xhc3NOYW1lPSdyb3cnIHN0eWxlPXt7IGRpc3BsYXk6IHNob3VsZERpc3BsYXkgfX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT0ncmVzdWx0IGRvbmUtcm93Jz5cbiAgICAgICAgWWVzISBUaGUgdGltZSB3YXMge2Zvcm1hdHRlZEFuc3dlcn1cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9J2RvbmUtcm93Jz5cbiAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtyZXNldFBhZ2V9PlxuICAgICAgICAgIEF3ZXNvbWUsIEFnYWluP1xuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPFJhbmRvbUNhdEdpZiBxdWVzdGlvbj17cXVlc3Rpb259IC8+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCAqIGFzIHF1ZXN0aW9uIGZyb20gJy4vcXVlc3Rpb24nXG5pbXBvcnQgeyBRdWVzdGlvblJvdyB9IGZyb20gJy4vUXVlc3Rpb25Sb3cnXG5pbXBvcnQgeyBBbnN3ZXJJbnB1dCB9IGZyb20gJy4vRW50ZXJBbnN3ZXJSb3cnXG5pbXBvcnQgeyBDb3JyZWN0QW5zd2VyIH0gZnJvbSAnLi9Db3JyZWN0QW5zd2VyUm93J1xuXG5jb25zdCBDbG9ja3lNY0ZhY2UgPSAoKSA9PiB7XG4gIGNvbnN0IFthbnN3ZXIsIHNldEFuc3dlcl0gPSBSZWFjdC51c2VTdGF0ZSh7XG4gICAgaG91cnM6ICcnLFxuICAgIG1pbnV0ZXM6ICcnLFxuICAgIHNlY29uZHM6ICcnXG4gIH0pXG4gIGNvbnN0IFthbnN3ZXJJc0NvcnJlY3QsIHNldEFuc3dlcklzQ29ycmVjdF0gPSBSZWFjdC51c2VTdGF0ZShudWxsKVxuICBjb25zdCBbcSwgc2V0UXVlc3Rpb25dID0gUmVhY3QudXNlU3RhdGUocXVlc3Rpb24ucmVhZCgpKVxuICBjb25zdCBbaW5jbHVkZVNlY29uZHMsIHNldEluY2x1ZGVRdWVzdGlvbnNdID0gUmVhY3QudXNlU3RhdGUodHJ1ZSlcblxuICBjb25zdCBoYW5kbGVBbnN3ZXJDaGFuZ2UgPSAoYW5zd2VyKSA9PiB7XG4gICAgc2V0QW5zd2VyKGFuc3dlcilcbiAgICBzZXRBbnN3ZXJJc0NvcnJlY3QocXVlc3Rpb24uY2hlY2tBbnN3ZXIoYW5zd2VyLCBpbmNsdWRlU2Vjb25kcykpXG4gIH1cblxuICBjb25zdCBzaG93V2hlbkNvcnJlY3QgPSAoKSA9PlxuICAgIGFuc3dlcklzQ29ycmVjdCA9PSBudWxsIHx8ICFhbnN3ZXJJc0NvcnJlY3QgPyAnbm9uZScgOiAnJ1xuXG4gIGNvbnN0IGhpZGVXaGVuQ29ycmVjdCA9ICgpID0+XG4gICAgYW5zd2VySXNDb3JyZWN0ID09IG51bGwgfHwgIWFuc3dlcklzQ29ycmVjdCA/ICcnIDogJ25vbmUnXG5cbiAgY29uc3QgcmVzZXRQYWdlID0gKCkgPT4ge1xuICAgIGNvbnN0IG5ld1F1ZXN0aW9uID0gcXVlc3Rpb24udHJpZ2dlck5leHQoKVxuICAgIHNldFF1ZXN0aW9uKG5ld1F1ZXN0aW9uKVxuICAgIHNldEFuc3dlcih7IGhvdXJzOiAnJywgbWludXRlczogJycsIHNlY29uZHM6ICcnIH0pXG4gICAgc2V0QW5zd2VySXNDb3JyZWN0KG51bGwpXG4gIH1cblxuICBjb25zdCBpbmNsdWRlU2Vjb25kc0NoYW5nZWQgPSAoZSkgPT4ge1xuICAgIHNldEluY2x1ZGVRdWVzdGlvbnMoZS50YXJnZXQuY2hlY2tlZClcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdj5cbiAgICAgIDxRdWVzdGlvblJvd1xuICAgICAgICBob3Vycz17cS5ob3Vyc31cbiAgICAgICAgbWludXRlcz17cS5taW51dGVzfVxuICAgICAgICBzZWNvbmRzPXtxLnNlY29uZHN9XG4gICAgICAgIGluY2x1ZGVTZWNvbmRzPXtpbmNsdWRlU2Vjb25kc31cbiAgICAgICAgc2hvd1Jvdz17aGlkZVdoZW5Db3JyZWN0KCl9XG4gICAgICAvPlxuICAgICAgPEFuc3dlcklucHV0XG4gICAgICAgIGFuc3dlcj17YW5zd2VyfVxuICAgICAgICBhbnN3ZXJJc0NvcnJlY3Q9e2Fuc3dlcklzQ29ycmVjdH1cbiAgICAgICAgaW5jbHVkZVNlY29uZHM9e2luY2x1ZGVTZWNvbmRzfVxuICAgICAgICBzaG93Um93PXtoaWRlV2hlbkNvcnJlY3QoKX1cbiAgICAgICAgaGFuZGxlQ2hhbmdlPXtoYW5kbGVBbnN3ZXJDaGFuZ2V9XG4gICAgICAvPlxuICAgICAgPENvcnJlY3RBbnN3ZXJcbiAgICAgICAgcXVlc3Rpb249e3F9XG4gICAgICAgIGluY2x1ZGVTZWNvbmRzPXtpbmNsdWRlU2Vjb25kc31cbiAgICAgICAgc2hvdWxkRGlzcGxheT17c2hvd1doZW5Db3JyZWN0KCl9XG4gICAgICAgIHJlc2V0UGFnZT17cmVzZXRQYWdlfVxuICAgICAgLz5cbiAgICAgIDxkaXYgaWQ9J2RpZmZpY3VsdHknIGNsYXNzTmFtZT0ncm93Jz5cbiAgICAgICAgPGxhYmVsIGh0bWxGb3I9J2luY2x1ZGUtc2Vjb25kcyc+XG4gICAgICAgICAgSW5jbHVkZSBzZWNvbmRzIGluIHRoZSBxdWVzdGlvbj9cbiAgICAgICAgICA8aW5wdXQgdHlwZT0nY2hlY2tib3gnIG5hbWU9J2luY2x1ZGUtc2Vjb25kcycgY2hlY2tlZD17aW5jbHVkZVNlY29uZHN9IG9uQ2hhbmdlPXtpbmNsdWRlU2Vjb25kc0NoYW5nZWR9IC8+XG4gICAgICAgIDwvbGFiZWw+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBDbG9ja3lNY0ZhY2VcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IGh5ZHJhdGUgfSBmcm9tICdyZWFjdC1kb20nXG5pbXBvcnQgQ2xvY2t5TWNGYWNlIGZyb20gJy4vQ2xvY2t5TWNGYWNlJ1xuXG5oeWRyYXRlKDxDbG9ja3lNY0ZhY2UgLz4sIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb290JykpXG4iXSwic291cmNlUm9vdCI6IiJ9